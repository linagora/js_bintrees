RBTree=function(v){var q=function(g){g=q.m[g];if(g.mod)return g.mod.exports;var t=g.mod={exports:{}};g(t,t.exports);return t.exports};q.m={};q.m["./treebase"]=function(g,q){function c(){}function h(a){this._tree=a;this._ancestors=[];this._cursor=null}c.prototype.clear=function(){this._root=null;this.size=0};c.prototype.find=function(a){for(var b=this._root;null!==b;){var d=this._comparator(a,b.data);if(0===d)return b.data;b=b.get_child(0<d)}return null};c.prototype.findIter=function(a){for(var b=
this._root,d=this.iterator();null!==b;){var c=this._comparator(a,b.data);if(0===c)return d._cursor=b,d;d._ancestors.push(b);b=b.get_child(0<c)}return null};c.prototype.lowerBound=function(a){for(var b=this._root,d=this.iterator(),c=this._comparator;null!==b;){var m=c(a,b.data);if(0===m)return d._cursor=b,d;d._ancestors.push(b);b=b.get_child(0<m)}for(m=d._ancestors.length-1;0<=m;--m)if(b=d._ancestors[m],0>c(a,b.data))return d._cursor=b,d._ancestors.length=m,d;d._ancestors.length=0;return d};c.prototype.upperBound=
function(a){for(var b=this.lowerBound(a),d=this._comparator;0===d(b.data(),a);)b.next();return b};c.prototype.min=function(){var a=this._root;if(null===a)return null;for(;null!==a.left;)a=a.left;return a.data};c.prototype.max=function(){var a=this._root;if(null===a)return null;for(;null!==a.right;)a=a.right;return a.data};c.prototype.iterator=function(){return new h(this)};c.prototype.eachNode=function(a){for(var b=this.iterator(),d,c=0;null!==(d=b.next());)a(d,c),c++};c.prototype.each=function(a){this.eachNode(function(b,
d){a(b.data,d)})};c.prototype.mapNode=function(a){for(var b=this.iterator(),d,c=[],m=0;null!==(d=b.next());)c.push(a(d,m)),m++;return c};c.prototype.map=function(a){return this.mapNode(function(b,c){return a(b.data,c)})};h.prototype.data=function(){return null!==this._cursor?this._cursor.data:null};h.prototype.next=function(){if(null===this._cursor){var a=this._tree._root;null!==a&&this._minNode(a)}else if(null===this._cursor.right){do if(a=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();
else{this._cursor=null;break}while(this._cursor.right===a)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return null!==this._cursor?this._cursor:null};h.prototype.prev=function(){if(null===this._cursor){var a=this._tree._root;null!==a&&this._maxNode(a)}else if(null===this._cursor.left){do if(a=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.left===a)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);
return null!==this._cursor?this._cursor:null};h.prototype._minNode=function(a){for(;null!==a.left;)this._ancestors.push(a),a=a.left;this._cursor=a};h.prototype._maxNode=function(a){for(;null!==a.right;)this._ancestors.push(a),a=a.right;this._cursor=a};g.exports=c};q.m.__main__=function(g,t){function c(a){this.data=a;this.right=this.left=null;this.red=!0}function h(a){this._root=null;this._comparator=a;this.size=0}function a(a){return null!==a&&a.red}function b(a,b){var c=a.get_child(!b);a.set_child(!b,
c.get_child(b));c.set_child(b,a);a.red=!0;c.red=!1;return c}function d(a,c){a.set_child(!c,b(a.get_child(!c),!c));return b(a,c)}var u=q("./treebase");c.prototype.get_child=function(a){return a?this.right:this.left};c.prototype.set_child=function(a,b){a?this.right=b:this.left=b};h.prototype=new u;h.prototype.insert=function(m){var h=!1;if(null===this._root)this._root=new c(m),h=!0,this.size++;else{var f=new c(void 0),l=0,p=0,r=null,n=f,k=null,e=this._root;for(n.right=this._root;;){null===e?(e=new c(m),
k.set_child(l,e),h=!0,this.size++):a(e.left)&&a(e.right)&&(e.red=!0,e.left.red=!1,e.right.red=!1);if(a(e)&&a(k)){var g=n.right===r;e===k.get_child(p)?n.set_child(g,b(r,!p)):n.set_child(g,d(r,!p))}g=this._comparator(e.data,m);if(0===g)break;p=l;l=0>g;null!==r&&(n=r);r=k;k=e;e=e.get_child(l)}this._root=f.right}this._root.red=!1;return h};h.prototype.remove=function(g){if(null===this._root)return!1;var h=new c(void 0),f=h;f.right=this._root;for(var l=null,p=null,r=null,n=1;null!==f.get_child(n);){var k=
n,p=l,l=f,f=f.get_child(n),e=this._comparator(g,f.data),n=0<e;0===e&&(r=f);if(!a(f)&&!a(f.get_child(n)))if(a(f.get_child(!n)))p=b(f,n),l.set_child(k,p),l=p;else if(!a(f.get_child(!n))&&(e=l.get_child(!k),null!==e))if(a(e.get_child(!k))||a(e.get_child(k))){var q=p.right===l;a(e.get_child(k))?p.set_child(q,d(l,k)):a(e.get_child(!k))&&p.set_child(q,b(l,k));k=p.get_child(q);k.red=!0;f.red=!0;k.left.red=!1;k.right.red=!1}else l.red=!1,e.red=!0,f.red=!0}null!==r&&(r.data=f.data,l.set_child(l.right===f,
f.get_child(null===f.left)),this.size--);this._root=h.right;null!==this._root&&(this._root.red=!1);return null!==r};g.exports=h};return q("__main__")}(window);
